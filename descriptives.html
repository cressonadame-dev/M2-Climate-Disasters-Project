<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistiques descriptives – Climate change and natural disasters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Climate change and natural disasters</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./descriptives.html" aria-current="page"> 
<span class="menu-text">Descriptives</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analyse.html"> 
<span class="menu-text">Analyse</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#aperçu-des-données" id="toc-aperçu-des-données" class="nav-link active" data-scroll-target="#aperçu-des-données">Aperçu des données</a></li>
  <li><a href="#statistiques-globales" id="toc-statistiques-globales" class="nav-link" data-scroll-target="#statistiques-globales">Statistiques globales</a></li>
  <li><a href="#évolution-temporelle" id="toc-évolution-temporelle" class="nav-link" data-scroll-target="#évolution-temporelle">Évolution temporelle</a></li>
  <li><a href="#saisonnalité" id="toc-saisonnalité" class="nav-link" data-scroll-target="#saisonnalité">Saisonnalité</a></li>
  <li><a href="#distributions" id="toc-distributions" class="nav-link" data-scroll-target="#distributions">Distributions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistiques descriptives</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Chargement des données produites par script.r</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"./output/result.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="aperçu-des-données" class="level2">
<h2 class="anchored" data-anchor-id="aperçu-des-données">Aperçu des données</h2>
<p>Cette page présente des statistiques descriptives sur les variables mensuelles construites à partir de la météo (température) et des catastrophes naturelles en France.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>periode <span class="ot">&lt;-</span> df[, .(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">debut =</span> <span class="fu">min</span>(date, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fin   =</span> <span class="fu">max</span>(date, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_obs =</span> .N</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(periode, <span class="at">caption =</span> <span class="st">"Période couverte et nombre d'observations"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Période couverte et nombre d’observations</caption>
<thead>
<tr class="header">
<th style="text-align: left;">debut</th>
<th style="text-align: left;">fin</th>
<th style="text-align: right;">n_obs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1996-01-01</td>
<td style="text-align: left;">2022-10-01</td>
<td style="text-align: right;">102</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Variables principales (rappel) :</p>
<ul>
<li><code>temperature_moyenne</code> : température moyenne mensuelle (°C).</li>
<li><code>diff_moyenne_mois</code> : anomalie de température (écart à la moyenne historique du même mois).</li>
<li><code>nb_desastres</code> : nombre de catastrophes naturelles sur le mois.</li>
<li><code>dommages_dollars</code> : dommages économiques moyens (en $) sur le mois.</li>
<li><code>morts_moyen</code> : nombre moyen de morts sur le mois.</li>
<li><code>ln_dommages</code> et <code>ln_morts</code> : transformations log(1+x) pour limiter l’asymétrie.</li>
</ul>
</section>
<section id="statistiques-globales" class="level2">
<h2 class="anchored" data-anchor-id="statistiques-globales">Statistiques globales</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>desc_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x[<span class="fu">is.finite</span>(x)]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">==</span> <span class="dv">0</span>) <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">n =</span> <span class="dv">0</span>, <span class="at">mean =</span> <span class="cn">NA</span>, <span class="at">sd =</span> <span class="cn">NA</span>, <span class="at">min =</span> <span class="cn">NA</span>, <span class="at">p25 =</span> <span class="cn">NA</span>, <span class="at">med =</span> <span class="cn">NA</span>, <span class="at">p75 =</span> <span class="cn">NA</span>, <span class="at">max =</span> <span class="cn">NA</span>))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  q <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, <span class="at">probs =</span> <span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n    =</span> <span class="fu">length</span>(x),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd   =</span> <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">min  =</span> <span class="fu">min</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">p25  =</span> q[<span class="dv">1</span>],</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">med  =</span> q[<span class="dv">2</span>],</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">p75  =</span> q[<span class="dv">3</span>],</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">max  =</span> <span class="fu">max</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"temperature_moyenne"</span>, <span class="st">"diff_moyenne_mois"</span>, <span class="st">"nb_desastres"</span>, <span class="st">"dommages_dollars"</span>, <span class="st">"morts_moyen"</span>, <span class="st">"ln_dommages"</span>, <span class="st">"ln_morts"</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>tab_desc <span class="ot">&lt;-</span> <span class="fu">rbindlist</span>(<span class="fu">lapply</span>(vars, <span class="cf">function</span>(v) {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  s <span class="ot">&lt;-</span> <span class="fu">desc_one</span>(df[[v]])</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.table</span>(<span class="at">variable =</span> v, <span class="at">n =</span> s<span class="sc">$</span>n, <span class="at">mean =</span> s<span class="sc">$</span>mean, <span class="at">sd =</span> s<span class="sc">$</span>sd, <span class="at">min =</span> s<span class="sc">$</span>min, <span class="at">p25 =</span> s<span class="sc">$</span>p25, <span class="at">median =</span> s<span class="sc">$</span>med, <span class="at">p75 =</span> s<span class="sc">$</span>p75, <span class="at">max =</span> s<span class="sc">$</span>max)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>}), <span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrondis pour lisibilité</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>tab_desc[, <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean   =</span> <span class="fu">round</span>(mean, <span class="dv">3</span>),</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd     =</span> <span class="fu">round</span>(sd, <span class="dv">3</span>),</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">min    =</span> <span class="fu">round</span>(min, <span class="dv">3</span>),</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">p25    =</span> <span class="fu">round</span>(p25, <span class="dv">3</span>),</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">median =</span> <span class="fu">round</span>(median, <span class="dv">3</span>),</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">p75    =</span> <span class="fu">round</span>(p75, <span class="dv">3</span>),</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">max    =</span> <span class="fu">round</span>(max, <span class="dv">3</span>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>)]</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tab_desc, <span class="at">caption =</span> <span class="st">"Statistiques descriptives (niveau mensuel)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Statistiques descriptives (niveau mensuel)</caption>
<colgroup>
<col style="width: 21%">
<col style="width: 4%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">median</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">temperature_moyenne</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">1.700300e+01</td>
<td style="text-align: right;">3.532000e+00</td>
<td style="text-align: right;">10.380</td>
<td style="text-align: right;">13.897</td>
<td style="text-align: right;">17.115</td>
<td style="text-align: right;">2.0242e+01</td>
<td style="text-align: right;">2.3980e+01</td>
</tr>
<tr class="even">
<td style="text-align: left;">diff_moyenne_mois</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">1.510000e-01</td>
<td style="text-align: right;">1.049000e+00</td>
<td style="text-align: right;">-2.685</td>
<td style="text-align: right;">-0.553</td>
<td style="text-align: right;">0.178</td>
<td style="text-align: right;">9.1300e-01</td>
<td style="text-align: right;">2.8190e+00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nb_desastres</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">1.216000e+00</td>
<td style="text-align: right;">4.800000e-01</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">1.0000e+00</td>
<td style="text-align: right;">3.0000e+00</td>
</tr>
<tr class="even">
<td style="text-align: left;">dommages_dollars</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">3.273818e+08</td>
<td style="text-align: right;">1.047727e+09</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">1.9750e+07</td>
<td style="text-align: right;">6.0000e+09</td>
</tr>
<tr class="odd">
<td style="text-align: left;">morts_moyen</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">2.739250e+02</td>
<td style="text-align: right;">1.964147e+03</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">2.000</td>
<td style="text-align: right;">5.0000e+00</td>
<td style="text-align: right;">1.9490e+04</td>
</tr>
<tr class="even">
<td style="text-align: left;">ln_dommages</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">6.171000e+00</td>
<td style="text-align: right;">8.958000e+00</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">1.6743e+01</td>
<td style="text-align: right;">2.2515e+01</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ln_morts</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">1.434000e+00</td>
<td style="text-align: right;">1.866000e+00</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">1.099</td>
<td style="text-align: right;">1.7920e+00</td>
<td style="text-align: right;">9.8780e+00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Corrélations simples sur variables "centrales"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> df[, .(temperature_moyenne, diff_moyenne_mois, nb_desastres, ln_dommages, ln_morts)]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>corr <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">cor</span>(X, <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>), <span class="dv">3</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(corr, <span class="at">caption =</span> <span class="st">"Corrélations (variables sélectionnées)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Corrélations (variables sélectionnées)</caption>
<colgroup>
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 19%">
<col style="width: 14%">
<col style="width: 13%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">temperature_moyenne</th>
<th style="text-align: right;">diff_moyenne_mois</th>
<th style="text-align: right;">nb_desastres</th>
<th style="text-align: right;">ln_dommages</th>
<th style="text-align: right;">ln_morts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">temperature_moyenne</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.370</td>
<td style="text-align: right;">-0.179</td>
<td style="text-align: right;">-0.173</td>
<td style="text-align: right;">0.191</td>
</tr>
<tr class="even">
<td style="text-align: left;">diff_moyenne_mois</td>
<td style="text-align: right;">0.370</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.144</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.026</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nb_desastres</td>
<td style="text-align: right;">-0.179</td>
<td style="text-align: right;">0.144</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.267</td>
<td style="text-align: right;">0.001</td>
</tr>
<tr class="even">
<td style="text-align: left;">ln_dommages</td>
<td style="text-align: right;">-0.173</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">0.267</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.236</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ln_morts</td>
<td style="text-align: right;">0.191</td>
<td style="text-align: right;">0.026</td>
<td style="text-align: right;">0.001</td>
<td style="text-align: right;">0.236</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="évolution-temporelle" class="level2">
<h2 class="anchored" data-anchor-id="évolution-temporelle">Évolution temporelle</h2>
<p>Montre la tendance climatique sur toute la période. On cherche à voir s’il y a un réchauffement progressif ou des cycles naturels. Interprétation attendue : hausse progressive ou cycles saisonniers marqués.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p_temp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> temperature_moyenne)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#1f77b4"</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Température moyenne mensuelle"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"°C"</span>) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_temp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-21c6ea6ed4a4a86d0efe" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-21c6ea6ed4a4a86d0efe">{"x":{"data":[{"x":[9496,9770,9862,9952,10043,10227,10592,10623,10712,10773,10896,10926,11078,11109,11139,11201,11262,11292,11323,11382,11413,11504,11596,11688,11747,11900,11931,11961,11992,12053,12234,12265,12387,12631,12935,13027,13088,13118,13208,13330,13422,13514,13634,13879,13939,14031,14092,14245,14426,14579,14641,14761,14914,14944,15279,15309,15371,15857,15979,16040,16071,16102,16222,16314,16375,16587,16679,16709,16922,17226,17318,17348,17532,17563,17713,17805,18048,18078,18109,18170,18201,18231,18262,18293,18383,18414,18444,18506,18536,18659,18718,18779,18809,18871,18901,18932,18962,19024,19144,19174,19205,19266],"y":[13.34,17.039999999999999,10.970000000000001,16.27,20.43,13.390000000000001,12.699999999999999,12.039999999999999,18.789999999999999,21.449999999999999,12.92,12.390000000000001,18.809999999999999,20.390000000000001,20.219999999999999,19.25,14.380000000000001,13.859999999999999,12.859999999999999,15.52,15.15,20.649999999999999,18.190000000000001,12.23,14.02,19.890000000000001,18.289999999999999,16.84,14.859999999999999,11.529999999999999,22.460000000000001,23.98,12.69,21.34,20.66,18.77,14.279999999999999,11.73,14.01,22.43,18.670000000000002,14.359999999999999,18.489999999999998,13.130000000000001,14.390000000000001,19.25,20.530000000000001,11.74,20.82,13.25,12.880000000000001,19.969999999999999,14.539999999999999,11.710000000000001,15.779999999999999,13.279999999999999,10.380000000000001,18.870000000000001,18.399999999999999,13.32,13.69,12.720000000000001,20.300000000000001,20.109999999999999,16.140000000000001,20.010000000000002,17.48,15.31,17.93,15.94,21.370000000000001,22.300000000000001,14.779999999999999,12.09,22.329999999999998,18.440000000000001,20.649999999999999,22.440000000000001,21.530000000000001,18.5,15.15,14.960000000000001,14.039999999999999,15.34,19.300000000000001,19.68,21.379999999999999,20.25,17.190000000000001,14.859999999999999,15.84,20.77,21.129999999999999,20.420000000000002,17.629999999999999,13.51,13.57,14.279999999999999,21.239999999999998,22.59,22.82,19.550000000000001],"text":["date: 1996-01-01<br />temperature_moyenne: 13.34","date: 1996-10-01<br />temperature_moyenne: 17.04","date: 1997-01-01<br />temperature_moyenne: 10.97","date: 1997-04-01<br />temperature_moyenne: 16.27","date: 1997-07-01<br />temperature_moyenne: 20.43","date: 1998-01-01<br />temperature_moyenne: 13.39","date: 1999-01-01<br />temperature_moyenne: 12.70","date: 1999-02-01<br />temperature_moyenne: 12.04","date: 1999-05-01<br />temperature_moyenne: 18.79","date: 1999-07-01<br />temperature_moyenne: 21.45","date: 1999-11-01<br />temperature_moyenne: 12.92","date: 1999-12-01<br />temperature_moyenne: 12.39","date: 2000-05-01<br />temperature_moyenne: 18.81","date: 2000-06-01<br />temperature_moyenne: 20.39","date: 2000-07-01<br />temperature_moyenne: 20.22","date: 2000-09-01<br />temperature_moyenne: 19.25","date: 2000-11-01<br />temperature_moyenne: 14.38","date: 2000-12-01<br />temperature_moyenne: 13.86","date: 2001-01-01<br />temperature_moyenne: 12.86","date: 2001-03-01<br />temperature_moyenne: 15.52","date: 2001-04-01<br />temperature_moyenne: 15.15","date: 2001-07-01<br />temperature_moyenne: 20.65","date: 2001-10-01<br />temperature_moyenne: 18.19","date: 2002-01-01<br />temperature_moyenne: 12.23","date: 2002-03-01<br />temperature_moyenne: 14.02","date: 2002-08-01<br />temperature_moyenne: 19.89","date: 2002-09-01<br />temperature_moyenne: 18.29","date: 2002-10-01<br />temperature_moyenne: 16.84","date: 2002-11-01<br />temperature_moyenne: 14.86","date: 2003-01-01<br />temperature_moyenne: 11.53","date: 2003-07-01<br />temperature_moyenne: 22.46","date: 2003-08-01<br />temperature_moyenne: 23.98","date: 2003-12-01<br />temperature_moyenne: 12.69","date: 2004-08-01<br />temperature_moyenne: 21.34","date: 2005-06-01<br />temperature_moyenne: 20.66","date: 2005-09-01<br />temperature_moyenne: 18.77","date: 2005-11-01<br />temperature_moyenne: 14.28","date: 2005-12-01<br />temperature_moyenne: 11.73","date: 2006-03-01<br />temperature_moyenne: 14.01","date: 2006-07-01<br />temperature_moyenne: 22.43","date: 2006-10-01<br />temperature_moyenne: 18.67","date: 2007-01-01<br />temperature_moyenne: 14.36","date: 2007-05-01<br />temperature_moyenne: 18.49","date: 2008-01-01<br />temperature_moyenne: 13.13","date: 2008-03-01<br />temperature_moyenne: 14.39","date: 2008-06-01<br />temperature_moyenne: 19.25","date: 2008-08-01<br />temperature_moyenne: 20.53","date: 2009-01-01<br />temperature_moyenne: 11.74","date: 2009-07-01<br />temperature_moyenne: 20.82","date: 2009-12-01<br />temperature_moyenne: 13.25","date: 2010-02-01<br />temperature_moyenne: 12.88","date: 2010-06-01<br />temperature_moyenne: 19.97","date: 2010-11-01<br />temperature_moyenne: 14.54","date: 2010-12-01<br />temperature_moyenne: 11.71","date: 2011-11-01<br />temperature_moyenne: 15.78","date: 2011-12-01<br />temperature_moyenne: 13.28","date: 2012-02-01<br />temperature_moyenne: 10.38","date: 2013-06-01<br />temperature_moyenne: 18.87","date: 2013-10-01<br />temperature_moyenne: 18.40","date: 2013-12-01<br />temperature_moyenne: 13.32","date: 2014-01-01<br />temperature_moyenne: 13.69","date: 2014-02-01<br />temperature_moyenne: 12.72","date: 2014-06-01<br />temperature_moyenne: 20.30","date: 2014-09-01<br />temperature_moyenne: 20.11","date: 2014-11-01<br />temperature_moyenne: 16.14","date: 2015-06-01<br />temperature_moyenne: 20.01","date: 2015-09-01<br />temperature_moyenne: 17.48","date: 2015-10-01<br />temperature_moyenne: 15.31","date: 2016-05-01<br />temperature_moyenne: 17.93","date: 2017-03-01<br />temperature_moyenne: 15.94","date: 2017-06-01<br />temperature_moyenne: 21.37","date: 2017-07-01<br />temperature_moyenne: 22.30","date: 2018-01-01<br />temperature_moyenne: 14.78","date: 2018-02-01<br />temperature_moyenne: 12.09","date: 2018-07-01<br />temperature_moyenne: 22.33","date: 2018-10-01<br />temperature_moyenne: 18.44","date: 2019-06-01<br />temperature_moyenne: 20.65","date: 2019-07-01<br />temperature_moyenne: 22.44","date: 2019-08-01<br />temperature_moyenne: 21.53","date: 2019-10-01<br />temperature_moyenne: 18.50","date: 2019-11-01<br />temperature_moyenne: 15.15","date: 2019-12-01<br />temperature_moyenne: 14.96","date: 2020-01-01<br />temperature_moyenne: 14.04","date: 2020-02-01<br />temperature_moyenne: 15.34","date: 2020-05-01<br />temperature_moyenne: 19.30","date: 2020-06-01<br />temperature_moyenne: 19.68","date: 2020-07-01<br />temperature_moyenne: 21.38","date: 2020-09-01<br />temperature_moyenne: 20.25","date: 2020-10-01<br />temperature_moyenne: 17.19","date: 2021-02-01<br />temperature_moyenne: 14.86","date: 2021-04-01<br />temperature_moyenne: 15.84","date: 2021-06-01<br />temperature_moyenne: 20.77","date: 2021-07-01<br />temperature_moyenne: 21.13","date: 2021-09-01<br />temperature_moyenne: 20.42","date: 2021-10-01<br />temperature_moyenne: 17.63","date: 2021-11-01<br />temperature_moyenne: 13.51","date: 2021-12-01<br />temperature_moyenne: 13.57","date: 2022-02-01<br />temperature_moyenne: 14.28","date: 2022-06-01<br />temperature_moyenne: 21.24","date: 2022-07-01<br />temperature_moyenne: 22.59","date: 2022-08-01<br />temperature_moyenne: 22.82","date: 2022-10-01<br />temperature_moyenne: 19.55"],"type":"scatter","mode":"lines","line":{"width":2.6456692913385824,"color":"rgba(31,119,180,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Température moyenne mensuelle","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9007.5,19754.5],"tickmode":"array","ticktext":["2000","2010","2020"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.7000000000000011,24.66],"tickmode":"array","ticktext":["10","15","20"],"tickvals":[10,15,20],"categoryorder":"array","categoryarray":["10","15","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"°C","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a2cfc47a5":{"x":{},"y":{},"type":"scatter"}},"cur_data":"187a2cfc47a5","visdat":{"187a2cfc47a5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Écart par rapport à la normale du mois (ex: un juillet à +3°C par rapport à la moyenne des jullets historiques). Interprétation : les pics positifs indiquent des mois anormalement chauds, les creux des mois anormalement froids.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>p_anom <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> diff_moyenne_mois)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#17becf"</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Anomalie de température (écart à la moyenne du mois)"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"°C"</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_anom)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-02291fa9ceac897d0d64" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-02291fa9ceac897d0d64">{"x":{"data":[{"x":[9007.5,19754.5],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(127,127,127,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9496,9770,9862,9952,10043,10227,10592,10623,10712,10773,10896,10926,11078,11109,11139,11201,11262,11292,11323,11382,11413,11504,11596,11688,11747,11900,11931,11961,11992,12053,12234,12265,12387,12631,12935,13027,13088,13118,13208,13330,13422,13514,13634,13879,13939,14031,14092,14245,14426,14579,14641,14761,14914,14944,15279,15309,15371,15857,15979,16040,16071,16102,16222,16314,16375,16587,16679,16709,16922,17226,17318,17348,17532,17563,17713,17805,18048,18078,18109,18170,18201,18231,18262,18293,18383,18414,18444,18506,18536,18659,18718,18779,18809,18871,18901,18932,18962,19024,19144,19174,19205,19266],"y":[0.68858837101971704,-0.57705551952044898,-1.67842056864755,0.175602325550059,-0.72226604667037397,0.73706741768549999,0.046931056903183298,-1.0303718837901501,0.75619926581044805,0.298462865313745,-1.9170862335480701,-0.71825119839909701,0.77583582665913298,0.235543732462904,-0.93544422970879604,-0.244414450103623,-0.449089781324922,0.74592196983088899,0.21211947090687,0.95314414525640401,-0.94511712912197998,-0.50313747069031201,0.57685080411164702,-0.42384874522259097,-0.54995001851703795,-1.2734371822730799,-1.20490771508087,-0.77552022662789399,0.030889218758907998,-1.1233213781690901,1.3051868187996301,2.81907529795911,-0.42086408649920798,0.17981053023076801,0.50279592520717697,-0.72411778355253997,-0.55506701538527103,-1.3802318913062599,-0.55409452845693297,1.2749856829130799,1.0522855051594799,1.7147779601230899,0.44889456155518898,0.48432979674000098,-0.17632301090674199,-0.89904525497515697,-0.64005384157563205,-0.90636509728514603,-0.33259017484891401,0.141596973725958,-0.18884685421953601,-0.18725630549638,-0.29350262088898099,-1.40065605866756,0.950357488868256,0.168579313845926,-2.6850925488234298,-1.28626342568784,0.78149115753777199,0.20855768901369001,1.0445364992567601,-0.35269811923358302,0.14645831119795,0.61451315608470103,1.3063480258082101,-0.14276351992220199,-2.01112872965503,-2.3065315051662099,-0.10595657259008499,1.3797346439660201,1.2187072079116099,1.14882641441612,2.1288217503946201,-0.98316853883834598,1.1742856581875001,0.829343837375763,0.50161626096851497,1.28847028466915,0.36102396565140898,0.88419585485588204,0.31968913407390098,1.84779200395607,1.39041319048548,2.2719846186173198,1.25889503812325,-0.47473575343436297,0.22048061667841501,0.75600543243198404,-0.429823682302857,1.79169761829555,-0.25692750021667399,0.61600521902290994,-0.026027399940566898,0.92250963270290098,0.0119188013866207,-1.3184264392363101,0.460592198867525,1.20697112294139,1.0871330788897899,1.42999827246218,1.6519480233097601,1.93728651067456],"text":["date: 1996-01-01<br />diff_moyenne_mois:  0.68858837","date: 1996-10-01<br />diff_moyenne_mois: -0.57705552","date: 1997-01-01<br />diff_moyenne_mois: -1.67842057","date: 1997-04-01<br />diff_moyenne_mois:  0.17560233","date: 1997-07-01<br />diff_moyenne_mois: -0.72226605","date: 1998-01-01<br />diff_moyenne_mois:  0.73706742","date: 1999-01-01<br />diff_moyenne_mois:  0.04693106","date: 1999-02-01<br />diff_moyenne_mois: -1.03037188","date: 1999-05-01<br />diff_moyenne_mois:  0.75619927","date: 1999-07-01<br />diff_moyenne_mois:  0.29846287","date: 1999-11-01<br />diff_moyenne_mois: -1.91708623","date: 1999-12-01<br />diff_moyenne_mois: -0.71825120","date: 2000-05-01<br />diff_moyenne_mois:  0.77583583","date: 2000-06-01<br />diff_moyenne_mois:  0.23554373","date: 2000-07-01<br />diff_moyenne_mois: -0.93544423","date: 2000-09-01<br />diff_moyenne_mois: -0.24441445","date: 2000-11-01<br />diff_moyenne_mois: -0.44908978","date: 2000-12-01<br />diff_moyenne_mois:  0.74592197","date: 2001-01-01<br />diff_moyenne_mois:  0.21211947","date: 2001-03-01<br />diff_moyenne_mois:  0.95314415","date: 2001-04-01<br />diff_moyenne_mois: -0.94511713","date: 2001-07-01<br />diff_moyenne_mois: -0.50313747","date: 2001-10-01<br />diff_moyenne_mois:  0.57685080","date: 2002-01-01<br />diff_moyenne_mois: -0.42384875","date: 2002-03-01<br />diff_moyenne_mois: -0.54995002","date: 2002-08-01<br />diff_moyenne_mois: -1.27343718","date: 2002-09-01<br />diff_moyenne_mois: -1.20490772","date: 2002-10-01<br />diff_moyenne_mois: -0.77552023","date: 2002-11-01<br />diff_moyenne_mois:  0.03088922","date: 2003-01-01<br />diff_moyenne_mois: -1.12332138","date: 2003-07-01<br />diff_moyenne_mois:  1.30518682","date: 2003-08-01<br />diff_moyenne_mois:  2.81907530","date: 2003-12-01<br />diff_moyenne_mois: -0.42086409","date: 2004-08-01<br />diff_moyenne_mois:  0.17981053","date: 2005-06-01<br />diff_moyenne_mois:  0.50279593","date: 2005-09-01<br />diff_moyenne_mois: -0.72411778","date: 2005-11-01<br />diff_moyenne_mois: -0.55506702","date: 2005-12-01<br />diff_moyenne_mois: -1.38023189","date: 2006-03-01<br />diff_moyenne_mois: -0.55409453","date: 2006-07-01<br />diff_moyenne_mois:  1.27498568","date: 2006-10-01<br />diff_moyenne_mois:  1.05228551","date: 2007-01-01<br />diff_moyenne_mois:  1.71477796","date: 2007-05-01<br />diff_moyenne_mois:  0.44889456","date: 2008-01-01<br />diff_moyenne_mois:  0.48432980","date: 2008-03-01<br />diff_moyenne_mois: -0.17632301","date: 2008-06-01<br />diff_moyenne_mois: -0.89904525","date: 2008-08-01<br />diff_moyenne_mois: -0.64005384","date: 2009-01-01<br />diff_moyenne_mois: -0.90636510","date: 2009-07-01<br />diff_moyenne_mois: -0.33259017","date: 2009-12-01<br />diff_moyenne_mois:  0.14159697","date: 2010-02-01<br />diff_moyenne_mois: -0.18884685","date: 2010-06-01<br />diff_moyenne_mois: -0.18725631","date: 2010-11-01<br />diff_moyenne_mois: -0.29350262","date: 2010-12-01<br />diff_moyenne_mois: -1.40065606","date: 2011-11-01<br />diff_moyenne_mois:  0.95035749","date: 2011-12-01<br />diff_moyenne_mois:  0.16857931","date: 2012-02-01<br />diff_moyenne_mois: -2.68509255","date: 2013-06-01<br />diff_moyenne_mois: -1.28626343","date: 2013-10-01<br />diff_moyenne_mois:  0.78149116","date: 2013-12-01<br />diff_moyenne_mois:  0.20855769","date: 2014-01-01<br />diff_moyenne_mois:  1.04453650","date: 2014-02-01<br />diff_moyenne_mois: -0.35269812","date: 2014-06-01<br />diff_moyenne_mois:  0.14645831","date: 2014-09-01<br />diff_moyenne_mois:  0.61451316","date: 2014-11-01<br />diff_moyenne_mois:  1.30634803","date: 2015-06-01<br />diff_moyenne_mois: -0.14276352","date: 2015-09-01<br />diff_moyenne_mois: -2.01112873","date: 2015-10-01<br />diff_moyenne_mois: -2.30653151","date: 2016-05-01<br />diff_moyenne_mois: -0.10595657","date: 2017-03-01<br />diff_moyenne_mois:  1.37973464","date: 2017-06-01<br />diff_moyenne_mois:  1.21870721","date: 2017-07-01<br />diff_moyenne_mois:  1.14882641","date: 2018-01-01<br />diff_moyenne_mois:  2.12882175","date: 2018-02-01<br />diff_moyenne_mois: -0.98316854","date: 2018-07-01<br />diff_moyenne_mois:  1.17428566","date: 2018-10-01<br />diff_moyenne_mois:  0.82934384","date: 2019-06-01<br />diff_moyenne_mois:  0.50161626","date: 2019-07-01<br />diff_moyenne_mois:  1.28847028","date: 2019-08-01<br />diff_moyenne_mois:  0.36102397","date: 2019-10-01<br />diff_moyenne_mois:  0.88419585","date: 2019-11-01<br />diff_moyenne_mois:  0.31968913","date: 2019-12-01<br />diff_moyenne_mois:  1.84779200","date: 2020-01-01<br />diff_moyenne_mois:  1.39041319","date: 2020-02-01<br />diff_moyenne_mois:  2.27198462","date: 2020-05-01<br />diff_moyenne_mois:  1.25889504","date: 2020-06-01<br />diff_moyenne_mois: -0.47473575","date: 2020-07-01<br />diff_moyenne_mois:  0.22048062","date: 2020-09-01<br />diff_moyenne_mois:  0.75600543","date: 2020-10-01<br />diff_moyenne_mois: -0.42982368","date: 2021-02-01<br />diff_moyenne_mois:  1.79169762","date: 2021-04-01<br />diff_moyenne_mois: -0.25692750","date: 2021-06-01<br />diff_moyenne_mois:  0.61600522","date: 2021-07-01<br />diff_moyenne_mois: -0.02602740","date: 2021-09-01<br />diff_moyenne_mois:  0.92250963","date: 2021-10-01<br />diff_moyenne_mois:  0.01191880","date: 2021-11-01<br />diff_moyenne_mois: -1.31842644","date: 2021-12-01<br />diff_moyenne_mois:  0.46059220","date: 2022-02-01<br />diff_moyenne_mois:  1.20697112","date: 2022-06-01<br />diff_moyenne_mois:  1.08713308","date: 2022-07-01<br />diff_moyenne_mois:  1.42999827","date: 2022-08-01<br />diff_moyenne_mois:  1.65194802","date: 2022-10-01<br />diff_moyenne_mois:  1.93728651"],"type":"scatter","mode":"lines","line":{"width":2.6456692913385824,"color":"rgba(23,190,207,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Anomalie de température (écart à la moyenne du mois)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9007.5,19754.5],"tickmode":"array","ticktext":["2000","2010","2020"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.9603009411625569,3.0942836902982371],"tickmode":"array","ticktext":["-2","-1","0","1","2","3"],"tickvals":[-2,-1,0,1.0000000000000004,2,3],"categoryorder":"array","categoryarray":["-2","-1","0","1","2","3"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"°C","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a2c7562e9":{"yintercept":{},"type":"scatter"},"187a747331f7":{"x":{},"y":{}}},"cur_data":"187a2c7562e9","visdat":{"187a2c7562e9":["function (y) ","x"],"187a747331f7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Histogramme montrant la fréquence des catastrophes dans le temps. Interprétation : permet de repérer des années/périodes exceptionnelles. Si hausse récente = possiblement lié au climat.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p_n <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> nb_desastres)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#9467bd"</span>, <span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Nombre mensuel de catastrophes"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Nb"</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_n)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-8101a86aab2fcc978a1e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8101a86aab2fcc978a1e">{"x":{"data":[{"orientation":"v","width":[27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[9496,9770,9862,9952,10043,10227,10592,10623,10712,10773,10896,10926,11078,11109,11139,11201,11262,11292,11323,11382,11413,11504,11596,11688,11747,11900,11931,11961,11992,12053,12234,12265,12387,12631,12935,13027,13088,13118,13208,13330,13422,13514,13634,13879,13939,14031,14092,14245,14426,14579,14641,14761,14914,14944,15279,15309,15371,15857,15979,16040,16071,16102,16222,16314,16375,16587,16679,16709,16922,17226,17318,17348,17532,17563,17713,17805,18048,18078,18109,18170,18201,18231,18262,18293,18383,18414,18444,18506,18536,18659,18718,18779,18809,18871,18901,18932,18962,19024,19144,19174,19205,19266],"y":[2,1,1,1,1,2,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,3,1,1,1,1,1,1,1,2,2,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,3,1,1,2,1,1,1,2,3,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1],"text":["date: 1996-01-01<br />nb_desastres: 2","date: 1996-10-01<br />nb_desastres: 1","date: 1997-01-01<br />nb_desastres: 1","date: 1997-04-01<br />nb_desastres: 1","date: 1997-07-01<br />nb_desastres: 1","date: 1998-01-01<br />nb_desastres: 2","date: 1999-01-01<br />nb_desastres: 1","date: 1999-02-01<br />nb_desastres: 2","date: 1999-05-01<br />nb_desastres: 1","date: 1999-07-01<br />nb_desastres: 1","date: 1999-11-01<br />nb_desastres: 1","date: 1999-12-01<br />nb_desastres: 2","date: 2000-05-01<br />nb_desastres: 1","date: 2000-06-01<br />nb_desastres: 1","date: 2000-07-01<br />nb_desastres: 1","date: 2000-09-01<br />nb_desastres: 1","date: 2000-11-01<br />nb_desastres: 1","date: 2000-12-01<br />nb_desastres: 2","date: 2001-01-01<br />nb_desastres: 1","date: 2001-03-01<br />nb_desastres: 1","date: 2001-04-01<br />nb_desastres: 1","date: 2001-07-01<br />nb_desastres: 3","date: 2001-10-01<br />nb_desastres: 1","date: 2002-01-01<br />nb_desastres: 1","date: 2002-03-01<br />nb_desastres: 1","date: 2002-08-01<br />nb_desastres: 1","date: 2002-09-01<br />nb_desastres: 1","date: 2002-10-01<br />nb_desastres: 1","date: 2002-11-01<br />nb_desastres: 1","date: 2003-01-01<br />nb_desastres: 2","date: 2003-07-01<br />nb_desastres: 2","date: 2003-08-01<br />nb_desastres: 1","date: 2003-12-01<br />nb_desastres: 1","date: 2004-08-01<br />nb_desastres: 1","date: 2005-06-01<br />nb_desastres: 1","date: 2005-09-01<br />nb_desastres: 1","date: 2005-11-01<br />nb_desastres: 2","date: 2005-12-01<br />nb_desastres: 1","date: 2006-03-01<br />nb_desastres: 1","date: 2006-07-01<br />nb_desastres: 1","date: 2006-10-01<br />nb_desastres: 1","date: 2007-01-01<br />nb_desastres: 2","date: 2007-05-01<br />nb_desastres: 1","date: 2008-01-01<br />nb_desastres: 1","date: 2008-03-01<br />nb_desastres: 1","date: 2008-06-01<br />nb_desastres: 1","date: 2008-08-01<br />nb_desastres: 1","date: 2009-01-01<br />nb_desastres: 2","date: 2009-07-01<br />nb_desastres: 1","date: 2009-12-01<br />nb_desastres: 1","date: 2010-02-01<br />nb_desastres: 1","date: 2010-06-01<br />nb_desastres: 1","date: 2010-11-01<br />nb_desastres: 1","date: 2010-12-01<br />nb_desastres: 1","date: 2011-11-01<br />nb_desastres: 1","date: 2011-12-01<br />nb_desastres: 1","date: 2012-02-01<br />nb_desastres: 1","date: 2013-06-01<br />nb_desastres: 1","date: 2013-10-01<br />nb_desastres: 1","date: 2013-12-01<br />nb_desastres: 1","date: 2014-01-01<br />nb_desastres: 2","date: 2014-02-01<br />nb_desastres: 1","date: 2014-06-01<br />nb_desastres: 1","date: 2014-09-01<br />nb_desastres: 1","date: 2014-11-01<br />nb_desastres: 2","date: 2015-06-01<br />nb_desastres: 1","date: 2015-09-01<br />nb_desastres: 1","date: 2015-10-01<br />nb_desastres: 1","date: 2016-05-01<br />nb_desastres: 1","date: 2017-03-01<br />nb_desastres: 1","date: 2017-06-01<br />nb_desastres: 1","date: 2017-07-01<br />nb_desastres: 1","date: 2018-01-01<br />nb_desastres: 3","date: 2018-02-01<br />nb_desastres: 1","date: 2018-07-01<br />nb_desastres: 1","date: 2018-10-01<br />nb_desastres: 2","date: 2019-06-01<br />nb_desastres: 1","date: 2019-07-01<br />nb_desastres: 1","date: 2019-08-01<br />nb_desastres: 1","date: 2019-10-01<br />nb_desastres: 2","date: 2019-11-01<br />nb_desastres: 3","date: 2019-12-01<br />nb_desastres: 2","date: 2020-01-01<br />nb_desastres: 1","date: 2020-02-01<br />nb_desastres: 1","date: 2020-05-01<br />nb_desastres: 1","date: 2020-06-01<br />nb_desastres: 1","date: 2020-07-01<br />nb_desastres: 1","date: 2020-09-01<br />nb_desastres: 1","date: 2020-10-01<br />nb_desastres: 1","date: 2021-02-01<br />nb_desastres: 1","date: 2021-04-01<br />nb_desastres: 1","date: 2021-06-01<br />nb_desastres: 1","date: 2021-07-01<br />nb_desastres: 2","date: 2021-09-01<br />nb_desastres: 1","date: 2021-10-01<br />nb_desastres: 1","date: 2021-11-01<br />nb_desastres: 1","date: 2021-12-01<br />nb_desastres: 1","date: 2022-02-01<br />nb_desastres: 1","date: 2022-06-01<br />nb_desastres: 1","date: 2022-07-01<br />nb_desastres: 1","date: 2022-08-01<br />nb_desastres: 1","date: 2022-10-01<br />nb_desastres: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(148,103,189,0.85)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":31.415525114155255},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Nombre mensuel de catastrophes","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[8992.6499999999996,19769.349999999999],"tickmode":"array","ticktext":["2000","2010","2020"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.15000000000000002,3.1499999999999999],"tickmode":"array","ticktext":["0","1","2","3"],"tickvals":[0,0.99999999999999989,2,3],"categoryorder":"array","categoryarray":["0","1","2","3"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Nb","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a474fd39d":{"x":{},"y":{},"type":"bar"}},"cur_data":"187a474fd39d","visdat":{"187a474fd39d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Compare l’évolution des dommages économiques (rouge) et des victimes (vert) en échelle log. Interprétation : si les deux courbes évoluent ensemble, cela suggère que les catastrophes graves touchent à la fois l’humain et l’économie. Si divergence = certaines catastrophes font plus de dégâts matériels que de morts (ou l’inverse).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p_impacts <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> date)) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> ln_dommages, <span class="at">color =</span> <span class="st">"Dommages (log1p)"</span>), <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> ln_morts, <span class="at">color =</span> <span class="st">"Morts (log1p)"</span>), <span class="at">linewidth =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Dommages (log1p)"</span> <span class="ot">=</span> <span class="st">"#d62728"</span>, <span class="st">"Morts (log1p)"</span> <span class="ot">=</span> <span class="st">"#2ca02c"</span>)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Impacts des catastrophes (échelles stabilisées)"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"log(1 + x)"</span>, <span class="at">color =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_impacts)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-c73d1c7044d2613d2f60" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c73d1c7044d2613d2f60">{"x":{"data":[{"x":[9496,9770,9862,9952,10043,10227,10592,10623,10712,10773,10896,10926,11078,11109,11139,11201,11262,11292,11323,11382,11413,11504,11596,11688,11747,11900,11931,11961,11992,12053,12234,12265,12387,12631,12935,13027,13088,13118,13208,13330,13422,13514,13634,13879,13939,14031,14092,14245,14426,14579,14641,14761,14914,14944,15279,15309,15371,15857,15979,16040,16071,16102,16222,16314,16375,16587,16679,16709,16922,17226,17318,17348,17532,17563,17713,17805,18048,18078,18109,18170,18201,18231,18262,18293,18383,18414,18444,18506,18536,18659,18718,18779,18809,18871,18901,18932,18962,19024,19144,19174,19205,19266],"y":[14.914123179965699,9.2104403669765205,0,16.1180957509583,0,18.1329986848339,0,15.5009833420312,0,0,20.030118658386499,22.515025306341101,0,0,0,0,0,0,0,18.700960494193101,0,0,0,0,0,0,20.897219144910199,13.8155115579638,0,10.1266711030504,0,22.204870378097901,21.128730945721198,0,16.1180957509583,0,0,0,0,0,0,18.643824303266602,0,0,0,0,18.1975372051382,21.1932694668171,0,0,22.165467830240999,21.128730945721198,0,0,0,0,0,20.300145795126198,0,0,0,0,0,19.0195172505356,18.8360961895144,0,0,20.644222630688201,21.598734574717,20.125428838009,0,0,19.066037265920698,0,0,18.951309000896899,0,0,0,0,18.469470917645602,17.7275335833924,0,0,0,0,0,17.785802490384299,20.689709054451701,16.1180957509583,22.446032434866101,0,0,0,0,0,16.9510048173717,0,0,0,0,0],"text":["date: 1996-01-01<br />ln_dommages: 14.91412<br />colour: Dommages (log1p)","date: 1996-10-01<br />ln_dommages:  9.21044<br />colour: Dommages (log1p)","date: 1997-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 1997-04-01<br />ln_dommages: 16.11810<br />colour: Dommages (log1p)","date: 1997-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 1998-01-01<br />ln_dommages: 18.13300<br />colour: Dommages (log1p)","date: 1999-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 1999-02-01<br />ln_dommages: 15.50098<br />colour: Dommages (log1p)","date: 1999-05-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 1999-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 1999-11-01<br />ln_dommages: 20.03012<br />colour: Dommages (log1p)","date: 1999-12-01<br />ln_dommages: 22.51503<br />colour: Dommages (log1p)","date: 2000-05-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2000-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2000-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2000-09-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2000-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2000-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2001-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2001-03-01<br />ln_dommages: 18.70096<br />colour: Dommages (log1p)","date: 2001-04-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2001-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2001-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2002-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2002-03-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2002-08-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2002-09-01<br />ln_dommages: 20.89722<br />colour: Dommages (log1p)","date: 2002-10-01<br />ln_dommages: 13.81551<br />colour: Dommages (log1p)","date: 2002-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2003-01-01<br />ln_dommages: 10.12667<br />colour: Dommages (log1p)","date: 2003-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2003-08-01<br />ln_dommages: 22.20487<br />colour: Dommages (log1p)","date: 2003-12-01<br />ln_dommages: 21.12873<br />colour: Dommages (log1p)","date: 2004-08-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2005-06-01<br />ln_dommages: 16.11810<br />colour: Dommages (log1p)","date: 2005-09-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2005-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2005-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2006-03-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2006-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2006-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2007-01-01<br />ln_dommages: 18.64382<br />colour: Dommages (log1p)","date: 2007-05-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2008-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2008-03-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2008-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2008-08-01<br />ln_dommages: 18.19754<br />colour: Dommages (log1p)","date: 2009-01-01<br />ln_dommages: 21.19327<br />colour: Dommages (log1p)","date: 2009-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2009-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2010-02-01<br />ln_dommages: 22.16547<br />colour: Dommages (log1p)","date: 2010-06-01<br />ln_dommages: 21.12873<br />colour: Dommages (log1p)","date: 2010-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2010-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2011-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2011-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2012-02-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2013-06-01<br />ln_dommages: 20.30015<br />colour: Dommages (log1p)","date: 2013-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2013-12-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2014-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2014-02-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2014-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2014-09-01<br />ln_dommages: 19.01952<br />colour: Dommages (log1p)","date: 2014-11-01<br />ln_dommages: 18.83610<br />colour: Dommages (log1p)","date: 2015-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2015-09-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2015-10-01<br />ln_dommages: 20.64422<br />colour: Dommages (log1p)","date: 2016-05-01<br />ln_dommages: 21.59873<br />colour: Dommages (log1p)","date: 2017-03-01<br />ln_dommages: 20.12543<br />colour: Dommages (log1p)","date: 2017-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2017-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2018-01-01<br />ln_dommages: 19.06604<br />colour: Dommages (log1p)","date: 2018-02-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2018-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2018-10-01<br />ln_dommages: 18.95131<br />colour: Dommages (log1p)","date: 2019-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2019-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2019-08-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2019-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2019-11-01<br />ln_dommages: 18.46947<br />colour: Dommages (log1p)","date: 2019-12-01<br />ln_dommages: 17.72753<br />colour: Dommages (log1p)","date: 2020-01-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2020-02-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2020-05-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2020-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2020-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2020-09-01<br />ln_dommages: 17.78580<br />colour: Dommages (log1p)","date: 2020-10-01<br />ln_dommages: 20.68971<br />colour: Dommages (log1p)","date: 2021-02-01<br />ln_dommages: 16.11810<br />colour: Dommages (log1p)","date: 2021-04-01<br />ln_dommages: 22.44603<br />colour: Dommages (log1p)","date: 2021-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2021-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2021-09-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2021-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2021-11-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2021-12-01<br />ln_dommages: 16.95100<br />colour: Dommages (log1p)","date: 2022-02-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2022-06-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2022-07-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2022-08-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)","date: 2022-10-01<br />ln_dommages:  0.00000<br />colour: Dommages (log1p)"],"type":"scatter","mode":"lines","line":{"width":2.6456692913385824,"color":"rgba(214,39,40,1)","dash":"solid"},"hoveron":"points","name":"Dommages (log1p)","legendgroup":"Dommages (log1p)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9496,9770,9862,9952,10043,10227,10592,10623,10712,10773,10896,10926,11078,11109,11139,11201,11262,11292,11323,11382,11413,11504,11596,11688,11747,11900,11931,11961,11992,12053,12234,12265,12387,12631,12935,13027,13088,13118,13208,13330,13422,13514,13634,13879,13939,14031,14092,14245,14426,14579,14641,14761,14914,14944,15279,15309,15371,15857,15979,16040,16071,16102,16222,16314,16375,16587,16679,16709,16922,17226,17318,17348,17532,17563,17713,17805,18048,18078,18109,18170,18201,18231,18262,18293,18383,18414,18444,18506,18536,18659,18718,18779,18809,18871,18901,18932,18962,19024,19144,19174,19205,19266],"y":[1.09861228866811,0.69314718055994495,3.1780538303479502,0,0,2.1400661634962699,0,1.87180217690159,1.3862943611198899,0,3.6109179126442199,3.89182029811063,1.09861228866811,0.69314718055994495,0.69314718055994495,1.9459101490553099,0.69314718055994495,0,0,1.3862943611198899,0,1.6094379124341001,1.09861228866811,0,0.69314718055994495,0,3.1780538303479502,1.6094379124341001,0.69314718055994495,0.69314718055994495,1.7917594692280601,9.8777080995486397,2.3025850929940499,2.4849066497879999,1.09861228866811,0.69314718055994495,1.6094379124341001,1.09861228866811,1.6094379124341001,7.2363393427543397,0.69314718055994495,1.09861228866811,0.69314718055994495,1.09861228866811,1.09861228866811,0,1.3862943611198899,2.0794415416798402,0,1.09861228866811,3.9889840465642701,3.2580965380214799,1.3862943611198899,0,1.9459101490553099,0,2.5649493574615398,1.09861228866811,0.69314718055994495,0.69314718055994495,1.3862943611198899,0,0,1.9459101490553099,1.7917594692280601,8.0943784449729606,1.3862943611198899,3.0445224377234199,1.7917594692280601,1.09861228866811,0.69314718055994495,0,1.09861228866811,1.3862943611198899,0,2.0794415416798402,6.3421214187211499,6.7673431252653904,0,1.09861228866811,1.4663370687934301,0.69314718055994495,0,0,0,0,7.5626812467218798,1.09861228866811,2.9444389791664398,0,0,0.69314718055994495,0,0,0,0.69314718055994495,0,0,0.69314718055994495,0,1.7917594692280601,0],"text":["date: 1996-01-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 1996-10-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 1997-01-01<br />ln_morts: 3.1780538<br />colour: Morts (log1p)","date: 1997-04-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 1997-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 1998-01-01<br />ln_morts: 2.1400662<br />colour: Morts (log1p)","date: 1999-01-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 1999-02-01<br />ln_morts: 1.8718022<br />colour: Morts (log1p)","date: 1999-05-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 1999-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 1999-11-01<br />ln_morts: 3.6109179<br />colour: Morts (log1p)","date: 1999-12-01<br />ln_morts: 3.8918203<br />colour: Morts (log1p)","date: 2000-05-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2000-06-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2000-07-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2000-09-01<br />ln_morts: 1.9459101<br />colour: Morts (log1p)","date: 2000-11-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2000-12-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2001-01-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2001-03-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2001-04-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2001-07-01<br />ln_morts: 1.6094379<br />colour: Morts (log1p)","date: 2001-10-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2002-01-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2002-03-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2002-08-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2002-09-01<br />ln_morts: 3.1780538<br />colour: Morts (log1p)","date: 2002-10-01<br />ln_morts: 1.6094379<br />colour: Morts (log1p)","date: 2002-11-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2003-01-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2003-07-01<br />ln_morts: 1.7917595<br />colour: Morts (log1p)","date: 2003-08-01<br />ln_morts: 9.8777081<br />colour: Morts (log1p)","date: 2003-12-01<br />ln_morts: 2.3025851<br />colour: Morts (log1p)","date: 2004-08-01<br />ln_morts: 2.4849066<br />colour: Morts (log1p)","date: 2005-06-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2005-09-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2005-11-01<br />ln_morts: 1.6094379<br />colour: Morts (log1p)","date: 2005-12-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2006-03-01<br />ln_morts: 1.6094379<br />colour: Morts (log1p)","date: 2006-07-01<br />ln_morts: 7.2363393<br />colour: Morts (log1p)","date: 2006-10-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2007-01-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2007-05-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2008-01-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2008-03-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2008-06-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2008-08-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2009-01-01<br />ln_morts: 2.0794415<br />colour: Morts (log1p)","date: 2009-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2009-12-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2010-02-01<br />ln_morts: 3.9889840<br />colour: Morts (log1p)","date: 2010-06-01<br />ln_morts: 3.2580965<br />colour: Morts (log1p)","date: 2010-11-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2010-12-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2011-11-01<br />ln_morts: 1.9459101<br />colour: Morts (log1p)","date: 2011-12-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2012-02-01<br />ln_morts: 2.5649494<br />colour: Morts (log1p)","date: 2013-06-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2013-10-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2013-12-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2014-01-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2014-02-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2014-06-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2014-09-01<br />ln_morts: 1.9459101<br />colour: Morts (log1p)","date: 2014-11-01<br />ln_morts: 1.7917595<br />colour: Morts (log1p)","date: 2015-06-01<br />ln_morts: 8.0943784<br />colour: Morts (log1p)","date: 2015-09-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2015-10-01<br />ln_morts: 3.0445224<br />colour: Morts (log1p)","date: 2016-05-01<br />ln_morts: 1.7917595<br />colour: Morts (log1p)","date: 2017-03-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2017-06-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2017-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2018-01-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2018-02-01<br />ln_morts: 1.3862944<br />colour: Morts (log1p)","date: 2018-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2018-10-01<br />ln_morts: 2.0794415<br />colour: Morts (log1p)","date: 2019-06-01<br />ln_morts: 6.3421214<br />colour: Morts (log1p)","date: 2019-07-01<br />ln_morts: 6.7673431<br />colour: Morts (log1p)","date: 2019-08-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2019-10-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2019-11-01<br />ln_morts: 1.4663371<br />colour: Morts (log1p)","date: 2019-12-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2020-01-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2020-02-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2020-05-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2020-06-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2020-07-01<br />ln_morts: 7.5626812<br />colour: Morts (log1p)","date: 2020-09-01<br />ln_morts: 1.0986123<br />colour: Morts (log1p)","date: 2020-10-01<br />ln_morts: 2.9444390<br />colour: Morts (log1p)","date: 2021-02-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2021-04-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2021-06-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2021-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2021-09-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2021-10-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2021-11-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2021-12-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2022-02-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2022-06-01<br />ln_morts: 0.6931472<br />colour: Morts (log1p)","date: 2022-07-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)","date: 2022-08-01<br />ln_morts: 1.7917595<br />colour: Morts (log1p)","date: 2022-10-01<br />ln_morts: 0.0000000<br />colour: Morts (log1p)"],"type":"scatter","mode":"lines","line":{"width":2.6456692913385824,"color":"rgba(44,160,44,1)","dash":"solid"},"hoveron":"points","name":"Morts (log1p)","legendgroup":"Morts (log1p)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Impacts des catastrophes (échelles stabilisées)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9007.5,19754.5],"tickmode":"array","ticktext":["2000","2010","2020"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.1257512653170552,23.640776571658158],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15.000000000000002,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"log(1 + x)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a4a44a8ba":{"x":{},"y":{},"colour":{},"type":"scatter"},"187a509e07d6":{"x":{},"y":{},"colour":{}}},"cur_data":"187a4a44a8ba","visdat":{"187a4a44a8ba":["function (y) ","x"],"187a509e07d6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="saisonnalité" class="level2">
<h2 class="anchored" data-anchor-id="saisonnalité">Saisonnalité</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sais <span class="ot">&lt;-</span> df[, .(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">temp_moy =</span> <span class="fu">mean</span>(temperature_moyenne, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">anom_moy =</span> <span class="fu">mean</span>(diff_moyenne_mois, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">des_moy  =</span> <span class="fu">mean</span>(nb_desastres, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">dmg_moy  =</span> <span class="fu">mean</span>(ln_dommages, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">dead_moy =</span> <span class="fu">mean</span>(ln_morts, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>), by <span class="ot">=</span> .(month, month_lab)][<span class="fu">order</span>(month)]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  sais[, .(<span class="at">month =</span> month_lab, <span class="at">temp_moy =</span> <span class="fu">round</span>(temp_moy, <span class="dv">2</span>), <span class="at">des_moy =</span> <span class="fu">round</span>(des_moy, <span class="dv">2</span>), <span class="at">dmg_moy =</span> <span class="fu">round</span>(dmg_moy, <span class="dv">2</span>), <span class="at">dead_moy =</span> <span class="fu">round</span>(dead_moy, <span class="dv">2</span>))],</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Moyennes par mois (saisonnalité)"</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Moyennes par mois (saisonnalité)</caption>
<thead>
<tr class="header">
<th style="text-align: left;">month</th>
<th style="text-align: right;">temp_moy</th>
<th style="text-align: right;">des_moy</th>
<th style="text-align: right;">dmg_moy</th>
<th style="text-align: right;">dead_moy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Jan</td>
<td style="text-align: right;">12.98</td>
<td style="text-align: right;">1.62</td>
<td style="text-align: right;">7.85</td>
<td style="text-align: right;">1.07</td>
</tr>
<tr class="even">
<td style="text-align: left;">Feb</td>
<td style="text-align: right;">13.07</td>
<td style="text-align: right;">1.12</td>
<td style="text-align: right;">6.72</td>
<td style="text-align: right;">1.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Mar</td>
<td style="text-align: right;">14.78</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">7.77</td>
<td style="text-align: right;">1.18</td>
</tr>
<tr class="even">
<td style="text-align: left;">Apr</td>
<td style="text-align: right;">15.75</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">12.85</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May</td>
<td style="text-align: right;">18.66</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4.32</td>
<td style="text-align: right;">0.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jun</td>
<td style="text-align: right;">20.26</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">4.80</td>
<td style="text-align: right;">1.89</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Jul</td>
<td style="text-align: right;">21.59</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.97</td>
</tr>
<tr class="even">
<td style="text-align: left;">Aug</td>
<td style="text-align: right;">21.68</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">6.73</td>
<td style="text-align: right;">2.59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sep</td>
<td style="text-align: right;">19.22</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">8.24</td>
<td style="text-align: right;">1.46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oct</td>
<td style="text-align: right;">17.80</td>
<td style="text-align: right;">1.18</td>
<td style="text-align: right;">7.57</td>
<td style="text-align: right;">1.27</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nov</td>
<td style="text-align: right;">14.62</td>
<td style="text-align: right;">1.44</td>
<td style="text-align: right;">6.37</td>
<td style="text-align: right;">1.54</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dec</td>
<td style="text-align: right;">13.08</td>
<td style="text-align: right;">1.30</td>
<td style="text-align: right;">7.83</td>
<td style="text-align: right;">0.98</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Cycle annuel classique : froid en hiver, chaud en été. Interprétation : valide que les données météo sont cohérentes. Sert de référence pour comprendre les anomalies.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p_sais_temp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sais, <span class="fu">aes</span>(<span class="at">x =</span> month_lab, <span class="at">y =</span> temp_moy, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#1f77b4"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#1f77b4"</span>) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Saisonnalité des températures"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"°C (moyenne)"</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_sais_temp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-bd057884842cb71e118e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bd057884842cb71e118e">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[15.753333333333336,21.681666666666668,13.075999999999999,13.07375,12.981538461538461,21.586923076923078,20.263333333333335,14.776,18.663999999999994,14.617777777777778,17.796363636363637,19.224285714285713],"text":["month_lab: Apr<br />temp_moy: 15.75333","month_lab: Aug<br />temp_moy: 21.68167","month_lab: Dec<br />temp_moy: 13.07600","month_lab: Feb<br />temp_moy: 13.07375","month_lab: Jan<br />temp_moy: 12.98154","month_lab: Jul<br />temp_moy: 21.58692","month_lab: Jun<br />temp_moy: 20.26333","month_lab: Mar<br />temp_moy: 14.77600","month_lab: May<br />temp_moy: 18.66400","month_lab: Nov<br />temp_moy: 14.61778","month_lab: Oct<br />temp_moy: 17.79636","month_lab: Sep<br />temp_moy: 19.22429"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(31,119,180,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5,4,8,1,9,7,6,2,12,11,10,3],"y":[12.981538461538461,13.07375,14.776,15.753333333333336,18.663999999999994,20.263333333333335,21.586923076923078,21.681666666666668,19.224285714285713,17.796363636363637,14.617777777777778,13.075999999999999],"text":["month_lab: Jan<br />temp_moy: 12.98154","month_lab: Feb<br />temp_moy: 13.07375","month_lab: Mar<br />temp_moy: 14.77600","month_lab: Apr<br />temp_moy: 15.75333","month_lab: May<br />temp_moy: 18.66400","month_lab: Jun<br />temp_moy: 20.26333","month_lab: Jul<br />temp_moy: 21.58692","month_lab: Aug<br />temp_moy: 21.68167","month_lab: Sep<br />temp_moy: 19.22429","month_lab: Oct<br />temp_moy: 17.79636","month_lab: Nov<br />temp_moy: 14.61778","month_lab: Dec<br />temp_moy: 13.07600"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(31,119,180,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":48.949771689497723},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Saisonnalité des températures","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,12.6],"tickmode":"array","ticktext":["Apr","Aug","Dec","Feb","Jan","Jul","Jun","Mar","May","Nov","Oct","Sep"],"tickvals":[1,2,3,4.0000000000000009,5,6,7.0000000000000009,8,9,10,11,12],"categoryorder":"array","categoryarray":["Apr","Aug","Dec","Feb","Jan","Jul","Jun","Mar","May","Nov","Oct","Sep"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[12.546532051282052,22.116673076923078],"tickmode":"array","ticktext":["15.0","17.5","20.0"],"tickvals":[15,17.5,20],"categoryorder":"array","categoryarray":["15.0","17.5","20.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"°C (moyenne)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a2fb05043":{"x":{},"y":{},"type":"scatter"},"187a4ce8eea6":{"x":{},"y":{}}},"cur_data":"187a2fb05043","visdat":{"187a2fb05043":["function (y) ","x"],"187a4ce8eea6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Certains mois concentrent-ils plus de catastrophes ? Interprétation : si pic en été = possiblement feux de forêt, canicules. Si pic en hiver = tempêtes, inondations. Permet d’identifier les “saisons à risque”.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>p_sais_dis <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sais, <span class="fu">aes</span>(<span class="at">x =</span> month_lab, <span class="at">y =</span> des_moy, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#9467bd"</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#9467bd"</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Saisonnalité du nombre de catastrophes"</span>, <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Nb (moyenne)"</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_sais_dis)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b1785de15b392f211283" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b1785de15b392f211283">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[1,1,1.3,1.125,1.6153846153846154,1.3076923076923077,1,1,1,1.4444444444444444,1.1818181818181819,1],"text":["month_lab: Apr<br />des_moy: 1.000000","month_lab: Aug<br />des_moy: 1.000000","month_lab: Dec<br />des_moy: 1.300000","month_lab: Feb<br />des_moy: 1.125000","month_lab: Jan<br />des_moy: 1.615385","month_lab: Jul<br />des_moy: 1.307692","month_lab: Jun<br />des_moy: 1.000000","month_lab: Mar<br />des_moy: 1.000000","month_lab: May<br />des_moy: 1.000000","month_lab: Nov<br />des_moy: 1.444444","month_lab: Oct<br />des_moy: 1.181818","month_lab: Sep<br />des_moy: 1.000000"],"type":"scatter","mode":"lines","line":{"width":3.0236220472440949,"color":"rgba(148,103,189,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5,4,8,1,9,7,6,2,12,11,10,3],"y":[1.6153846153846154,1.125,1,1,1,1,1.3076923076923077,1,1,1.1818181818181819,1.4444444444444444,1.3],"text":["month_lab: Jan<br />des_moy: 1.615385","month_lab: Feb<br />des_moy: 1.125000","month_lab: Mar<br />des_moy: 1.000000","month_lab: Apr<br />des_moy: 1.000000","month_lab: May<br />des_moy: 1.000000","month_lab: Jun<br />des_moy: 1.000000","month_lab: Jul<br />des_moy: 1.307692","month_lab: Aug<br />des_moy: 1.000000","month_lab: Sep<br />des_moy: 1.000000","month_lab: Oct<br />des_moy: 1.181818","month_lab: Nov<br />des_moy: 1.444444","month_lab: Dec<br />des_moy: 1.300000"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,103,189,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(148,103,189,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":22.648401826484022,"l":43.105022831050235},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Saisonnalité du nombre de catastrophes","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,12.6],"tickmode":"array","ticktext":["Apr","Aug","Dec","Feb","Jan","Jul","Jun","Mar","May","Nov","Oct","Sep"],"tickvals":[1,2,3,4.0000000000000009,5,6,7.0000000000000009,8,9,10,11,12],"categoryorder":"array","categoryarray":["Apr","Aug","Dec","Feb","Jan","Jul","Jun","Mar","May","Nov","Oct","Sep"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.96923076923076923,1.6461538461538461],"tickmode":"array","ticktext":["1.0","1.2","1.4","1.6"],"tickvals":[1,1.2,1.3999999999999999,1.6000000000000001],"categoryorder":"array","categoryarray":["1.0","1.2","1.4","1.6"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Nb (moyenne)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a49741785":{"x":{},"y":{},"type":"scatter"},"187a4f799b90":{"x":{},"y":{}}},"cur_data":"187a49741785","visdat":{"187a49741785":["function (y) ","x"],"187a4f799b90":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="distributions" class="level2">
<h2 class="anchored" data-anchor-id="distributions">Distributions</h2>
<p>Forme de la répartition des températures mensuelles. Interprétation : si distribution normale (cloche), les températures sont stables. Si bimodale ou étalée = forte variabilité climatique.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>p_hist_temp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> temperature_moyenne)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"#1f77b4"</span>, <span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution : température moyenne"</span>, <span class="at">x =</span> <span class="st">"°C"</span>, <span class="at">y =</span> <span class="st">"Fréquence"</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_hist_temp)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6b0c46aab1a59a2877b0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6b0c46aab1a59a2877b0">{"x":{"data":[{"orientation":"v","width":[0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936,0.46896551724137936],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[10.380000000000001,10.84896551724138,11.31793103448276,11.786896551724139,12.255862068965518,12.724827586206898,13.193793103448277,13.662758620689656,14.131724137931034,14.600689655172413,15.069655172413793,15.538620689655172,16.007586206896551,16.476551724137931,16.94551724137931,17.414482758620689,17.883448275862069,18.352413793103448,18.821379310344827,19.290344827586207,19.759310344827586,20.228275862068966,20.697241379310345,21.166206896551724,21.635172413793104,22.104137931034483,22.573103448275862,23.042068965517242,23.511034482758621,23.98],"y":[1,1,1,3,4,6,6,4,6,4,5,3,4,1,2,3,1,6,5,3,4,8,6,5,2,2,4,1,0,1],"text":["count: 1<br />temperature_moyenne: 10.38000","count: 1<br />temperature_moyenne: 10.84897","count: 1<br />temperature_moyenne: 11.31793","count: 3<br />temperature_moyenne: 11.78690","count: 4<br />temperature_moyenne: 12.25586","count: 6<br />temperature_moyenne: 12.72483","count: 6<br />temperature_moyenne: 13.19379","count: 4<br />temperature_moyenne: 13.66276","count: 6<br />temperature_moyenne: 14.13172","count: 4<br />temperature_moyenne: 14.60069","count: 5<br />temperature_moyenne: 15.06966","count: 3<br />temperature_moyenne: 15.53862","count: 4<br />temperature_moyenne: 16.00759","count: 1<br />temperature_moyenne: 16.47655","count: 2<br />temperature_moyenne: 16.94552","count: 3<br />temperature_moyenne: 17.41448","count: 1<br />temperature_moyenne: 17.88345","count: 6<br />temperature_moyenne: 18.35241","count: 5<br />temperature_moyenne: 18.82138","count: 3<br />temperature_moyenne: 19.29034","count: 4<br />temperature_moyenne: 19.75931","count: 8<br />temperature_moyenne: 20.22828","count: 6<br />temperature_moyenne: 20.69724","count: 5<br />temperature_moyenne: 21.16621","count: 2<br />temperature_moyenne: 21.63517","count: 2<br />temperature_moyenne: 22.10414","count: 4<br />temperature_moyenne: 22.57310","count: 1<br />temperature_moyenne: 23.04207","count: 0<br />temperature_moyenne: 23.51103","count: 1<br />temperature_moyenne: 23.98000"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,119,180,0.85)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":31.415525114155255},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Distribution : température moyenne","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.4420689655172421,24.917931034482759],"tickmode":"array","ticktext":["10","15","20"],"tickvals":[10,15,20],"categoryorder":"array","categoryarray":["10","15","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"°C","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.40000000000000002,8.4000000000000004],"tickmode":"array","ticktext":["0","2","4","6","8"],"tickvals":[0,2,4,6,8],"categoryorder":"array","categoryarray":["0","2","4","6","8"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Fréquence","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a49a69e49":{"x":{},"type":"bar"}},"cur_data":"187a49a69e49","visdat":{"187a49a69e49":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Combien de mois ont 0, 1, 2… catastrophes ? Interprétation : si très concentrée à gauche (beaucoup de 0) = événements rares. Queue à droite longue = quelques mois exceptionnels.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>p_hist_n <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> nb_desastres)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">25</span>, <span class="at">fill =</span> <span class="st">"#9467bd"</span>, <span class="at">alpha =</span> <span class="fl">0.85</span>) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution : nombre mensuel de catastrophes"</span>, <span class="at">x =</span> <span class="st">"Nb"</span>, <span class="at">y =</span> <span class="st">"Fréquence"</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_hist_n)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-84448a65e1b24de6eaf3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-84448a65e1b24de6eaf3">{"x":{"data":[{"orientation":"v","width":[0.083333333333333481,0.083333333333333037,0.083333333333333481,0.083333333333333037,0.083333333333333037,0.083333333333333481,0.083333333333333037,0.083333333333333481,0.083333333333333481,0.083333333333333037,0.083333333333333481,0.083333333333333481,0.083333333333333037,0.083333333333333925,0.083333333333333925,0.083333333333333037,0.083333333333333925,0.083333333333333925,0.083333333333333037,0.083333333333333925,0.083333333333333925,0.083333333333333037,0.083333333333333925,0.083333333333333925,0.083333333333333037],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,1.0833333333333335,1.1666666666666667,1.25,1.3333333333333335,1.4166666666666667,1.5,1.5833333333333333,1.6666666666666667,1.75,1.8333333333333333,1.9166666666666667,2,2.083333333333333,2.166666666666667,2.25,2.333333333333333,2.416666666666667,2.5,2.583333333333333,2.666666666666667,2.75,2.833333333333333,2.916666666666667,3],"y":[83,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,3],"text":["count: 83<br />nb_desastres: 1.000000","count:  0<br />nb_desastres: 1.083333","count:  0<br />nb_desastres: 1.166667","count:  0<br />nb_desastres: 1.250000","count:  0<br />nb_desastres: 1.333333","count:  0<br />nb_desastres: 1.416667","count:  0<br />nb_desastres: 1.500000","count:  0<br />nb_desastres: 1.583333","count:  0<br />nb_desastres: 1.666667","count:  0<br />nb_desastres: 1.750000","count:  0<br />nb_desastres: 1.833333","count:  0<br />nb_desastres: 1.916667","count: 16<br />nb_desastres: 2.000000","count:  0<br />nb_desastres: 2.083333","count:  0<br />nb_desastres: 2.166667","count:  0<br />nb_desastres: 2.250000","count:  0<br />nb_desastres: 2.333333","count:  0<br />nb_desastres: 2.416667","count:  0<br />nb_desastres: 2.500000","count:  0<br />nb_desastres: 2.583333","count:  0<br />nb_desastres: 2.666667","count:  0<br />nb_desastres: 2.750000","count:  0<br />nb_desastres: 2.833333","count:  0<br />nb_desastres: 2.916667","count:  3<br />nb_desastres: 3.000000"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(148,103,189,0.85)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Distribution : nombre mensuel de catastrophes","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.85416666666666663,3.145833333333333],"tickmode":"array","ticktext":["1.0","1.5","2.0","2.5","3.0"],"tickvals":[1,1.5,2,2.5,3],"categoryorder":"array","categoryarray":["1.0","1.5","2.0","2.5","3.0"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Nb","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-4.1500000000000004,87.150000000000006],"tickmode":"array","ticktext":["0","20","40","60","80"],"tickvals":[0,20,40,60.000000000000007,80],"categoryorder":"array","categoryarray":["0","20","40","60","80"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Fréquence","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a536e7982":{"x":{},"type":"bar"}},"cur_data":"187a536e7982","visdat":{"187a536e7982":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Compare la forme des distributions de dommages et de morts (en log). Interprétation : si les deux courbes sont similaires = proportionnalité entre coûts et victimes. Si rouge plus étalé que vert = forte variabilité des coûts économiques.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>p_hist_logs <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">melt</span>(df[, .(ln_dommages, ln_morts)], <span class="at">measure.vars =</span> <span class="fu">c</span>(<span class="st">"ln_dommages"</span>, <span class="st">"ln_morts"</span>)),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">fill =</span> variable)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"ln_dommages"</span> <span class="ot">=</span> <span class="st">"#d62728"</span>, <span class="st">"ln_morts"</span> <span class="ot">=</span> <span class="st">"#2ca02c"</span>)) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distributions : impacts (log1p)"</span>, <span class="at">x =</span> <span class="st">"log(1 + x)"</span>, <span class="at">y =</span> <span class="st">"Fréquence"</span>, <span class="at">fill =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p_hist_logs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-cd14f04de66c14ad96fd" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cd14f04de66c14ad96fd">{"x":{"data":[{"orientation":"v","width":[0.7763801829772794,0.77638018297727962,0.77638018297727962,0.77638018297727918,0.77638018297727918,0.77638018297728006,0.77638018297727918,0.77638018297727918,0.77638018297727918,0.77638018297727918,0.7763801829772774,0.77638018297728095,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.77638018297728095,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,0.7763801829772794,1.552760365954559,2.3291405489318384,3.1055207319091176,3.8819009148863972,4.6582810978636768,5.434661280840956,6.2110414638182352,6.9874216467955144,7.7638018297727935,8.5401820127500727,9.3165621957273537,10.092942378704631,10.869322561681912,11.645702744659189,12.42208292763647,13.198463110613748,13.974843293591029,14.751223476568306,15.527603659545587,16.303983842522868,17.080364025500145,17.85674420847743,18.633124391454707,19.409504574431985,20.185884757409266,20.962264940386547,21.738645123363824,22.515025306341101],"y":[68,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,3,1,4,6,1,3,6,1,4],"text":["count: 68<br />value:  0.0000000<br />variable: ln_dommages","count:  0<br />value:  0.7763802<br />variable: ln_dommages","count:  0<br />value:  1.5527604<br />variable: ln_dommages","count:  0<br />value:  2.3291405<br />variable: ln_dommages","count:  0<br />value:  3.1055207<br />variable: ln_dommages","count:  0<br />value:  3.8819009<br />variable: ln_dommages","count:  0<br />value:  4.6582811<br />variable: ln_dommages","count:  0<br />value:  5.4346613<br />variable: ln_dommages","count:  0<br />value:  6.2110415<br />variable: ln_dommages","count:  0<br />value:  6.9874216<br />variable: ln_dommages","count:  0<br />value:  7.7638018<br />variable: ln_dommages","count:  0<br />value:  8.5401820<br />variable: ln_dommages","count:  1<br />value:  9.3165622<br />variable: ln_dommages","count:  1<br />value: 10.0929424<br />variable: ln_dommages","count:  0<br />value: 10.8693226<br />variable: ln_dommages","count:  0<br />value: 11.6457027<br />variable: ln_dommages","count:  0<br />value: 12.4220829<br />variable: ln_dommages","count:  0<br />value: 13.1984631<br />variable: ln_dommages","count:  1<br />value: 13.9748433<br />variable: ln_dommages","count:  1<br />value: 14.7512235<br />variable: ln_dommages","count:  1<br />value: 15.5276037<br />variable: ln_dommages","count:  3<br />value: 16.3039838<br />variable: ln_dommages","count:  1<br />value: 17.0803640<br />variable: ln_dommages","count:  4<br />value: 17.8567442<br />variable: ln_dommages","count:  6<br />value: 18.6331244<br />variable: ln_dommages","count:  1<br />value: 19.4095046<br />variable: ln_dommages","count:  3<br />value: 20.1858848<br />variable: ln_dommages","count:  6<br />value: 20.9622649<br />variable: ln_dommages","count:  1<br />value: 21.7386451<br />variable: ln_dommages","count:  4<br />value: 22.5150253<br />variable: ln_dommages"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,39,40,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ln_dommages","legendgroup":"ln_dommages","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.7763801829772794,0.77638018297727962,0.77638018297727962,0.77638018297727918,0.77638018297727918,0.77638018297728006,0.77638018297727918,0.77638018297727918,0.77638018297727918,0.77638018297727918,0.7763801829772774,0.77638018297728095,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.77638018297728095,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774,0.7763801829772774],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0,0.7763801829772794,1.552760365954559,2.3291405489318384,3.1055207319091176,3.8819009148863972,4.6582810978636768,5.434661280840956,6.2110414638182352,6.9874216467955144,7.7638018297727935,8.5401820127500727,9.3165621957273537,10.092942378704631,10.869322561681912,11.645702744659189,12.42208292763647,13.198463110613748,13.974843293591029,14.751223476568306,15.527603659545587,16.303983842522868,17.080364025500145,17.85674420847743,18.633124391454707,19.409504574431985,20.185884757409266,20.962264940386547,21.738645123363824,22.515025306341101],"y":[31,31,17,9,5,3,0,0,1,2,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count: 31<br />value:  0.0000000<br />variable: ln_morts","count: 31<br />value:  0.7763802<br />variable: ln_morts","count: 17<br />value:  1.5527604<br />variable: ln_morts","count:  9<br />value:  2.3291405<br />variable: ln_morts","count:  5<br />value:  3.1055207<br />variable: ln_morts","count:  3<br />value:  3.8819009<br />variable: ln_morts","count:  0<br />value:  4.6582811<br />variable: ln_morts","count:  0<br />value:  5.4346613<br />variable: ln_morts","count:  1<br />value:  6.2110415<br />variable: ln_morts","count:  2<br />value:  6.9874216<br />variable: ln_morts","count:  2<br />value:  7.7638018<br />variable: ln_morts","count:  0<br />value:  8.5401820<br />variable: ln_morts","count:  0<br />value:  9.3165622<br />variable: ln_morts","count:  1<br />value: 10.0929424<br />variable: ln_morts","count:  0<br />value: 10.8693226<br />variable: ln_morts","count:  0<br />value: 11.6457027<br />variable: ln_morts","count:  0<br />value: 12.4220829<br />variable: ln_morts","count:  0<br />value: 13.1984631<br />variable: ln_morts","count:  0<br />value: 13.9748433<br />variable: ln_morts","count:  0<br />value: 14.7512235<br />variable: ln_morts","count:  0<br />value: 15.5276037<br />variable: ln_morts","count:  0<br />value: 16.3039838<br />variable: ln_morts","count:  0<br />value: 17.0803640<br />variable: ln_morts","count:  0<br />value: 17.8567442<br />variable: ln_morts","count:  0<br />value: 18.6331244<br />variable: ln_morts","count:  0<br />value: 19.4095046<br />variable: ln_morts","count:  0<br />value: 20.1858848<br />variable: ln_morts","count:  0<br />value: 20.9622649<br />variable: ln_morts","count:  0<br />value: 21.7386451<br />variable: ln_morts","count:  0<br />value: 22.5150253<br />variable: ln_morts"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(44,160,44,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ln_morts","legendgroup":"ln_morts","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":40.840182648401829,"r":7.3059360730593621,"b":37.260273972602747,"l":37.260273972602747},"paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Distributions : impacts (log1p)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.5527603659545588,24.06778567229566],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"log(1 + x)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.4000000000000004,71.400000000000006],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[4.4408920985006262e-16,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Fréquence","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"187a36739c36":{"x":{},"fill":{},"type":"bar"}},"cur_data":"187a36739c36","visdat":{"187a36739c36":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>